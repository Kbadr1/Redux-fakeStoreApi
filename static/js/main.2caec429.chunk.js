(this["webpackJsonpfake-store-api"]=this["webpackJsonpfake-store-api"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(16),s=c.n(a),o=(c(40),c(41),c(7)),i=c(5),d=c(3),l=c(1),u=function(){var e=Object(d.c)((function(e){return e.cartReducer.cartTotal}));return Object(l.jsx)("nav",{className:"bg-purple-900 text-white",children:Object(l.jsxs)("div",{className:"container mx-auto py-4 flex justify-between font-medium",children:[Object(l.jsx)(o.b,{to:"/",children:"Home"}),Object(l.jsxs)(o.b,{to:"/cart",children:["Cart ",e]})]})})},j=c(32),b=c.n(j).a.create({baseURL:"https://fakestoreapi.com"}),O=function(){return function(e){e({type:"PRODUCTS_FETCH_REQUEST"}),b.get("/products").then((function(t){var c=t.data;e({type:"PRODUCTS_FETCH_SUCCESS",payload:c})})).catch((function(t){var c=t.error;e(function(e){return{type:"PRODUCTS_FETCH_ERROR",payload:e}}(c))}))}},p=function(e){return function(t,c){var r=c().productsReducer.products;t({type:"ADD_TO_CART",payload:{id:e,allProducts:r}})}},f=function(e,t){return{type:"ADJUST_ITEM_QTY",payload:{id:e,qty:t}}},m=function(e){var t=e.product,c=Object(d.b)(),n=t.id,a=t.image,s=t.title,i=t.price,u=Object(d.c)((function(e){return e.cartReducer.cart}));return Object(r.useEffect)((function(){c({type:"CART_TOTAL"})}),[u]),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:" bg-white p-3 border border-gray-50 shadow rounded-md flex flex-col h-full",children:[Object(l.jsx)(o.b,{to:"/product/".concat(n),children:Object(l.jsx)("img",{className:"h-72 w-full p-5",src:a,alt:""})}),Object(l.jsx)(o.b,{to:"/product/".concat(n),children:Object(l.jsx)("h5",{className:"font-medium text-lg my-2",children:s})}),Object(l.jsxs)("h6",{className:"font-bold text-lg my-2",children:["$",i]}),Object(l.jsx)("button",{className:"bg-purple-800 font-medium rounded text-white py-2 px-4 w-full mt-auto",onClick:function(){return c(p(n))},children:"Add to cart"})]})})},x=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.productsReducer.error})),c=Object(d.c)((function(e){return e.productsReducer.loading})),n=Object(d.c)((function(e){return e.productsReducer.products}));return Object(r.useEffect)((function(){e(O())}),[]),Object(l.jsxs)("div",{className:"container mx-auto py-10 grid grid-cols-1 grid-rows-1 grid-flow-row  row sm:grid-cols-2  lg:grid-cols-3 gap-20 lg:px-32",children:[t&&Object(l.jsx)("h1",{children:"Error!"}),c?Object(l.jsx)("h1",{children:"Loading..."}):n.map((function(e){return Object(l.jsx)(m,{product:e},e.id)}))]})},h=c(34),g=function(e){var t=e.item,c=Object(r.useState)(t.qty),n=Object(h.a)(c,2),a=n[0],s=n[1],i=Object(d.b)();return Object(l.jsxs)("div",{className:"grid grid-cols-12 items-center  py-2  border-b-2 border-gray-100",children:[Object(l.jsx)("div",{className:"col-span-3 md:col-span-2 p-5 ",children:Object(l.jsx)(o.b,{to:"/product/".concat(t.id),children:Object(l.jsx)("img",{src:t.image,className:"h-24 w-24",alt:""})})}),Object(l.jsx)("div",{className:"col-span-9 md:col-span-4 lg:col-span-7",children:Object(l.jsx)(o.b,{to:"/product/".concat(t.id),children:Object(l.jsx)("h1",{className:"font-medium sm:text-xs lg:text-base",children:t.title})})}),Object(l.jsxs)("div",{className:"col-span-4 md:col-span-2 lg:col-span-1 justify-self-center border border-gray-200 rounded-md py-1",children:[Object(l.jsx)("button",{onClick:function(e){s(a+1),i(f(t.id,a+1))},className:"font-medium sm:px-1 px-2",children:"+"}),Object(l.jsx)("span",{className:"px-4 sm:px-2 py-1 border-r-2 border-l-2",children:a}),Object(l.jsx)("button",{onClick:function(){a>1&&(s(a-1),i(f(t.id,a-1)))},className:"font-medium sm:px-1  px-2",children:"-"})]}),Object(l.jsx)("div",{className:"col-span-4 md:col-span-2 lg:col-span-1 justify-self-center",children:Object(l.jsxs)("h6",{className:"font-medium",children:["$",t.price*t.qty]})}),Object(l.jsx)("div",{className:"col-span-4 md:col-span-2 lg:col-span-1 justify-self-center lg:justify-self-end",children:Object(l.jsx)("button",{onClick:function(){return i({type:"REMOVE_FROM_CART",payload:{id:t.id}})},className:"bg-red-400 px-2 py-1 rounded font-medium text-white text-xs",children:"Remove"})})]})},y=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.cartReducer.cart})),c=Object(d.c)((function(e){return e.cartReducer.totalSum}));return Object(r.useEffect)((function(){e({type:"TOTAL_SUM"}),e({type:"CART_TOTAL"})}),[t]),Object(l.jsx)("div",{children:t.length?Object(l.jsxs)("div",{className:"container mx-auto my-10 ",children:[Object(l.jsxs)("div",{className:"pb-5",children:[Object(l.jsx)("button",{className:" bg-purple-700 text-white rounded py-2 px-4",children:Object(l.jsx)(o.b,{to:"/",children:"Continue shopping"})}),Object(l.jsx)("button",{className:"float-right bg-purple-700 text-white rounded py-2 px-4",onClick:function(){return e({type:"CLEAR_CART"})},children:"Clear cart"})]}),Object(l.jsx)("div",{className:"border border-gray-200 rounded-lg px-10",children:t.map((function(e){return Object(l.jsx)(g,{item:e},e.id)}))}),Object(l.jsxs)("h6",{className:"float-right py-5 font-medium text-lg",children:["Total sum: ",Object(l.jsxs)("span",{className:"",children:["$",c]})]})]}):Object(l.jsxs)("div",{className:"text-center flex justify-center items-center flex-col  h-screen",children:[Object(l.jsx)("h1",{className:"text-xl font-medium mb-5",children:"You don't have any products added to cart yet."}),Object(l.jsx)("button",{className:"bg-purple-700 text-white rounded py-2 px-4",children:Object(l.jsx)(o.b,{to:"/",children:"Continue shopping"})})]})})},T=function(){var e=Object(d.b)(),t=Object(i.f)().productID,c=Object(d.c)((function(e){return e.singleProductReducer.error})),n=Object(d.c)((function(e){return e.singleProductReducer.loading})),a=Object(d.c)((function(e){return e.singleProductReducer.product})),s=Object(d.c)((function(e){return e.cartReducer.cart})),o=a.image,u=a.title,j=a.category,f=a.description,m=a.price,x=a.id;return Object(r.useEffect)((function(){e(O()),e(function(e){return function(t){t({type:"SINGLE_PRODUCT_FETCH_REQUEST"}),b.get("/products/".concat(e)).then((function(e){var c=e.data;t({type:"SINGLE_PRODUCT_FETCH_SUCCESS",payload:c})})).catch((function(e){var c=e.error;t(function(e){return{type:"SINGLE_PRODUCT_FETCH_ERROR",payload:e}}(c))}))}}(t))}),[]),Object(r.useEffect)((function(){e({type:"CART_TOTAL"})}),[s]),Object(l.jsxs)("div",{className:"container mx-auto  lg:px-32 py-10 ",children:[c&&Object(l.jsx)("h1",{children:"Error..."}),n?Object(l.jsx)("h1",{children:"Loading..."}):Object(l.jsxs)("div",{className:"grid grid-cols-4 gap-16",children:[Object(l.jsx)("div",{className:"col-span-4 md:col-span-1 w-1/3 md:w-full justify-self-center ",children:Object(l.jsx)("img",{className:" md:w-full ",src:o,alt:""})}),Object(l.jsxs)("div",{className:"col-span-4 md:col-span-3",children:[Object(l.jsx)("h2",{className:"font-bold text-2xl",children:u}),Object(l.jsx)("h6",{className:"font-light",children:j}),Object(l.jsx)("p",{className:"my-10 text-md",children:f}),Object(l.jsxs)("h6",{className:"font-medium text-2xl",children:["$",m]}),Object(l.jsx)("button",{className:"bg-purple-800 text-white rounded-md font-medium py-2 px-6 my-10",onClick:function(){return e(p(x))},children:"Add to cart"})]})]})]})};var R=function(){var e=Object(d.c)((function(e){return e.cartReducer.cart}));return Object(r.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(e))}),[e]),Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",component:x}),Object(l.jsx)(i.a,{path:"/cart",component:y}),Object(l.jsx)(i.a,{path:"/product/:productID",component:T})]})]})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,72)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))},_=c(13),E=c(2),N={loading:!1,error:null,errorMessage:void 0,products:[]},v={loading:!1,error:null,errorMessage:void 0,product:{}},S=c(35),w={allProducts:[],cart:JSON.parse(localStorage.getItem("cart")||"[]"),totalSum:null,cartTotal:null},P=Object(_.b)({productsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case"PRODUCTS_FETCH_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0,error:null});case"PRODUCTS_FETCH_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{products:r,loading:!1});case"PRODUCTS_FETCH_ERROR":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:!0,errorMessage:r});default:return e}},singleProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case"SINGLE_PRODUCT_FETCH_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0,error:null});case"SINGLE_PRODUCT_FETCH_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{product:r,loading:!1});case"SINGLE_PRODUCT_FETCH_ERROR":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:!0,errorMessage:r});default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,c=t.payload,r=t.type;switch(r){case"ADD_TO_CART":e.allProducts=c.allProducts;var n=e.allProducts.find((function(e){return e.id===c.id})),a=e.cart.find((function(e){return e.id===c.id}));return Object(E.a)(Object(E.a)({},e),{},{allProducts:c.allProducts,cart:a?e.cart.map((function(e){return e.id===c.id?Object(E.a)(Object(E.a)({},e),{},{qty:e.qty+1}):e})):[].concat(Object(S.a)(e.cart),[Object(E.a)(Object(E.a)({},n),{},{qty:1})])});case"REMOVE_FROM_CART":return Object(E.a)(Object(E.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==c.id}))});case"ADJUST_ITEM_QTY":return Object(E.a)(Object(E.a)({},e),{},{cart:e.cart.map((function(e){return e.id===c.id?Object(E.a)(Object(E.a)({},e),{},{qty:+c.qty}):e}))});case"CLEAR_CART":return Object(E.a)(Object(E.a)({},e),{},{cart:[]});case"TOTAL_SUM":return Object(E.a)(Object(E.a)({},e),{},{totalSum:e.cart.reduce((function(e,t){return e+t.price*t.qty}),0)});case"CART_TOTAL":return Object(E.a)(Object(E.a)({},e),{},{cartTotal:e.cart.reduce((function(e,t){return e+t.qty}),0)});default:return e}}}),U=c(33),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.c,D=Object(_.d)(P,A(Object(_.a)(U.a)));s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(d.a,{store:D,children:Object(l.jsx)(R,{})})}),document.getElementById("root")),C()}},[[71,1,2]]]);
//# sourceMappingURL=main.2caec429.chunk.js.map